\documentclass{book}
\usepackage{xcolor}
\NewDocumentEnvironment{foo}{ D(){} O{} m }{start \fbox{#1, #2, #3}}{ end}
\begin{document}
\chapter{Example}
\begin{foo}(optional parenthesised argument)
    [
        standard optional argument
    ]{m}
    test
\end{foo}

\RenewDocumentEnvironment{foo}{ D(){} O{} m c }{start \fbox{#1, #2, #3} \colorbox{\mycolor}{#4}}{ end}

\section{Without the optional argument \textup{\texttt{D()\{\}}} being invoked, the intended effect is produced.}
\def\mycolor{green}
\begin{foo}
    [
        standard optional argument
    ]{m}
    test
\end{foo}

\section{When the optional arguments \textup{\texttt{D()\{\}}} and \textup{\texttt{O\{\}}} are invoked consecutively (without any extraneous characters), the intended effect is produced.}
\begin{foo}(optional parenthesised argument)[standard optional argument]{m}
    test
\end{foo}
\section{When the optional arguments \textup{\texttt{D()\{\}}} and \textup{\texttt{O\{\}}} are invoked with separating spaces, the intended effect is \emph{not} produced.}
\def\mycolor{yellow}
\begin{foo}(optional parenthesised argument)
    [
        standard optional argument
    ]{m}
    test
\end{foo}
\end{document}