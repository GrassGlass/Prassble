\documentclass[a4paper, 11pt]{book}
\input{../preamble/preamble.tex}
\begin{document}
\begin{theorem}
    A theorem.
\end{theorem}
\begin{code}[autowidth = lower, listing and text]{\TeX}
    test \hspace{5cm} test
\end{code}
\begin{proof}
    Some proof.
\end{proof}
Hello
\begin{theorem}
    A theorem.
\end{theorem}
\begin{code}{\TeX}
    test \hspace{5cm} test
\end{code}
\begin{proof}
    Some proof.
\end{proof}
\inputcode{tst.tex}
\end{document}