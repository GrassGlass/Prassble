%% The LaTeX project Prassble
%% nonlistings.tex: the actual nonlisting environments for users to use
%%
%% -------------------------------------------------------------------------------------------
%% Copyright (c) 2025 by Grass (GrassGlass) <shaohong00002 at gmail dot com>
%% -------------------------------------------------------------------------------------------
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `author-maintained'.
%%
%% This work consists of all files listed in README
%%
\ExplSyntaxOff
% Keys whose values depend on the current pagestyle
    % parent
    \StyleDependentValue[Parent]{Definition}{main,hw}{chapter,}{\Pagestyle}
    \StyleDependentValue[Parent]{Problem}{main,hw}{chapter,}{\Pagestyle}
% Keys that enable coloured boxes iff 
    \StyleDependentValue{proofbox}{colourful,BnW}{proofbox-colourful,proofbox-BnW}{\ColorTheme} 
    \StyleDependentValue{greenbox}{colourful,BnW}{greenbox,BnW}{\ColorTheme}
    \StyleDependentValue{redbox}{colourful,BnW}{redbox,BnW}{\ColorTheme}
    \StyleDependentValue{bluebox}{colourful,BnW}{bluebox,BnW}{\ColorTheme}
    \StyleDependentValue{purplebox}{colourful,BnW}{purplebox,BnW}{\ColorTheme}

    % Proof/Answer environments
    \renewptheorem*{proof}
    (last)
    [style:V = \proofbox]
    \newptheorem*{answer}
    (last)
    [style:V = \proofbox]

% Numbered
    % Family of environments with chapter as parent
        % greenboxes: definition, notation, motivation, recall
        \newptheorem{definition}
        (standalone)
        [
            ,style:V = \greenbox
            ,parent:V = \DefinitionParent
        ]
        \newptheorem{notation,motivation,recall}
        (standalone)
        [
            ,style:V = \greenbox
            ,sibling = definition
        ]

        % redboxes: claim, proposition, lemma, theorem, corollary
        \newptheorem{claim,proposition,lemma,theorem,corollary}
        (first)
        [
            ,style:V = \redbox
            ,sibling = definition
        ]

        % blueboxes: observation, example, remark, note
        \newptheorem{observation,example,remark,note}
        (standalone)
        [
            ,style:V = \bluebox
            ,sibling = definition
        ]

    % Family of environments with section as parent, and a separate hw environment
        % purpleboxes: problem, question, exercise, hw
        \newptheorem{problem}
        (first)
        [
            ,style:V = \purplebox
            ,parent:V = \ProblemParent
        ]
        \newptheorem{question,exercise}
        (first)
        [
            ,style:V = \purplebox
            ,sibling = problem
        ]

% % No number
%     % Family of environments with chapter as parent
%         % greenboxes: definition, notation, motivation, recall
%         \newkeytheorem{definition*}
%         [
%             ,name = Definition
%             ,style:V = \greenbox
%             ,numbered = false
%         ]
%         \newkeytheorem{notation*}
%         [
%             ,name = Notation
%             ,style:V = \greenbox
%             ,numbered = false
%         ]
%         \newkeytheorem{motivation*}
%         [
%             ,name = Motivation
%             ,style:V = \greenbox
%             ,numbered = false
%         ]
%         \newkeytheorem{recall*}
%         [
%             ,name = Recall
%             ,style:V = \greenbox
%             ,numbered = false
%         ]

%         % redboxes: claim, proposition, lemma, theorem, corollary
%         \newkeytheorem{claim*}
%         [
%             ,name = Claim
%             ,style:V = \redbox
%             ,numbered = false
%         ]
%         \newkeytheorem{proposition*}
%         [
%             ,name = Proposition
%             ,style:V = \redbox
%             ,numbered = false
%         ]
%         \newkeytheorem{lemma*}
%         [
%             ,name = Lemma
%             ,style:V = \redbox
%             ,numbered = false
%         ]
%         \newkeytheorem{theorem*}
%         [
%             ,name = Theorem
%             ,style:V = \redbox
%             ,numbered = false
%         ]
%         \newkeytheorem{corollary*}
%         [
%             ,name = Corollary
%             ,style:V = \redbox
%             ,numbered = false
%         ]

%         % blueboxes: observation, example, remark, note
%         \newkeytheorem{observation*}
%         [
%             ,name = Observation
%             ,style:V = \bluebox
%             ,numbered = false
%         ]
%         \newkeytheorem{example*}
%         [
%             ,name = Example
%             ,style:V = \bluebox
%             ,numbered = false
%         ]
%         \newkeytheorem{remark*}
%         [
%             ,name = Remark
%             ,style:V = \bluebox
%             ,numbered = false
%         ]
%         \newkeytheorem{note*}
%         [
%             ,name = Note
%             ,style:V = \bluebox
%             ,numbered = false
%         ]

%     % Family of environments with section as parent
%         % purpleboxes: problem, question, exercise
%         \newkeytheorem{problem*}
%         [
%             ,name = Problem
%             ,style:V = \purplebox
%             ,numbered = false
%         ]
%         \newkeytheorem{question*}
%         [
%             ,name = Question
%             ,style:V = \purplebox
%             ,numbered = false
%         ]
%         \newkeytheorem{exercise*}
%         [
%             ,name = Exercise
%             ,style:V = \purplebox
%             ,numbered = false
%         ]

% % Self-⟨env-name⟩ environments
%     % Family of environments with chapter as parent
%         % greenboxes: mydefinition, mynotation, mymotivation, myrecall
%         \newkeytheorem{mydefinition}
%         [
%             ,name = MyDefinition
%             ,style = greenbox
%             ,parent:V = \DefinitionParent
%             ,counter-format = \arabic{chapter}.\Alph{mydefinition}
%         ]
%         \newkeytheorem{mynotation}
%         [
%             ,name = MyNotation
%             ,style = greenbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mynotation}
%         ]
%         \newkeytheorem{mymotivation}
%         [
%             ,name = MyMotivation
%             ,style = greenbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mymotivation}
%         ]
%         \newkeytheorem{myrecall}
%         [
%             ,name = MyRecall
%             ,style = greenbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myrecall}
%         ]

%         % redboxes: claim, myproposition, mylemma, mytheorem, mycorollary
%         \newkeytheorem{myclaim}
%         [
%             ,name = MyClaim
%             ,style = redbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myclaim}
%         ]
%         \newkeytheorem{myproposition}
%         [
%             ,name = MyProposition
%             ,style = redbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myproposition}
%         ]
%         \newkeytheorem{mylemma}
%         [
%             ,name = MyLemma
%             ,style = redbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mylemma}
%         ]
%         \newkeytheorem{mytheorem}
%         [
%             ,name = MyTheorem
%             ,style = redbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mytheorem}
%         ]
%         \newkeytheorem{mycorollary}
%         [
%             ,name = MyCorollary
%             ,style = redbox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mycorollary}
%         ]

%         % blueboxes: myobservation, myexample, myremark, mynote
%         \newkeytheorem{myobservation}
%         [
%             ,name = MyObservation
%             ,style = bluebox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myobservation}
%         ]
%         \newkeytheorem{myexample}
%         [
%             ,name = MyExample
%             ,style = bluebox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myexample}
%         ]
%         \newkeytheorem{myremark}
%         [
%             ,name = MyRemark
%             ,style = bluebox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{myremark}
%         ]
%         \newkeytheorem{mynote}
%         [
%             ,name = MyNote
%             ,style = bluebox
%             ,sibling = mydefinition
%             ,counter-format = \arabic{chapter}.\Alph{mynote}
%         ]

%     % Family of environments with section as parent
%         % purpleboxes: myproblem, myquestion, myexercise
%         \newkeytheorem{myproblem}
%         [
%             ,name = MyProblem
%             ,style = purplebox
%             ,parent:V = \ProblemParent
%             ,counter-format = \arabic{chapter}.\Alph{myproblem}
%         ]
%         \newkeytheorem{myquestion}
%         [
%             ,name = MyQuestion
%             ,style = purplebox
%             ,sibling = myproblem
%             ,counter-format = \arabic{chapter}.\Alph{myquestion}
%         ]
%         \newkeytheorem{myexercise}
%         [
%             ,name = MyExercise
%             ,style = purplebox
%             ,sibling = myproblem
%             ,counter-format = \arabic{chapter}.\Alph{myexercise}
%         ]